<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>Audio Recorder</title></head>
<body>
  <button id="start">Start Recording</button>
  <button id="stop" disabled>Stop</button>
  <audio id="audio" controls></audio>
  <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>
  <script>
    var recorder, stream;
    document.getElementById("start").onclick = function(){
      navigator.mediaDevices.getUserMedia({ audio: true }).then(function(s){
        stream = s;
        recorder = RecordRTC(stream, { type: "audio" });
        recorder.startRecording();
        this.disabled = true;
        document.getElementById("stop").disabled = false;
      }.bind(this));
    };
    document.getElementById("stop").onclick = function(){
      recorder.stopRecording(function(){
        var blob = recorder.getBlob();
        var url = URL.createObjectURL(blob);
        document.getElementById("audio").src = url;
      });
      stream.getTracks().forEach(function(t){ t.stop(); });
      this.disabled = true;
      document.getElementById("start").disabled = false;
    };
  </script>
</body>
</html>
